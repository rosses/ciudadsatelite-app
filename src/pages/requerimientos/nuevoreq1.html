<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>NUEVO (1/3)</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="cancelRequerimiento()">
        <ion-icon name="close" class="icon-right-menu"></ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>
</ion-header>

<ion-content>
    <h3>Dirección de retiro</h3>

    <ion-list radio-group [(ngModel)]="address_id">
      <ion-item *ngFor="let address of addresses">
        <ion-label>Retirar en {{address.street}} {{address.housenum}}<br />{{address.city_name}} / {{address.state_name}}</ion-label>
        <ion-radio value="1"></ion-radio>
      </ion-item>

      <ion-item>
        <ion-label>Retirar en otra dirección</ion-label>
        <ion-radio value="0"></ion-radio>
      </ion-item>
    </ion-list>
    
    <div *ngIf="address_id == 0">
      <h4>Especifica la dirección</h4>
      <ion-list>
        <ion-item>
          <ion-input type="text" [(ngModel)]="requirement.street" placeholder="Calle"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input type="text" [(ngModel)]="requirement.housenum" placeholder="Número"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input type="text" [(ngModel)]="requirement.floornum" placeholder="Block/Piso"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input type="text" [(ngModel)]="requirement.departament" placeholder="Oficina/Departamento"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label>Región</ion-label>
          <ion-select [(ngModel)]="requirement.state" okText="OK" cancelText="Cancelar" (ngModelChange)="changeCities($event)">
            <ion-option *ngFor="let state of states" [value]="state.id">{{state.name}}</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label>Ciudad/Comuna</ion-label>
          <ion-select [(ngModel)]="requirement.city" okText="OK" cancelText="Cancelar">
            <ion-option *ngFor="let city of cities" [value]="city.id">{{city.name}}</ion-option>
          </ion-select>
        </ion-item>
      </ion-list>
    </div>

    <div class="buttonWrapper">
      <button class="buttonPinkOrange" ion-button round full (click)="next()">Continuar</button>
    </div>

</ion-content>